# ç»ˆç«¯ç›‘å¬é…ç½®æ³¨å†Œé—®é¢˜ä¿®å¤

## ğŸ› é—®é¢˜æè¿°

ç”¨æˆ·åœ¨å°è¯•å¯ç”¨ç»ˆç«¯ç›‘å¬åŠŸèƒ½æ—¶é‡åˆ°é”™è¯¯ï¼š

```
æ²¡æœ‰æ³¨å†Œé…ç½® scriptButler.enableTerminalMonitoringï¼Œå› æ­¤æ— æ³•å†™å…¥ç”¨æˆ·è®¾ç½®ã€‚
```

**é”™è¯¯åŸå› ï¼š**
`package.json` ä¸­çš„ `configuration` å¯¹è±¡ä½ç½®é”™è¯¯ï¼Œå®ƒè¢«æ”¾åœ¨äº†é¡¶çº§å±æ€§ä¸­ï¼Œè€Œä¸æ˜¯ `contributes` å¯¹è±¡å†…éƒ¨ã€‚

---

## ğŸ” é—®é¢˜åˆ†æ

### é”™è¯¯çš„ç»“æ„ï¼ˆä¿®å¤å‰ï¼‰

```json
{
  "name": "script-butler",
  "contributes": {
    "viewsContainers": { ... },
    "views": { ... },
    "commands": [ ... ],
    "menus": { ... }
  },
  "configuration": {  // âŒ é”™è¯¯ï¼šåœ¨ contributes å¤–éƒ¨
    "title": "è„šæœ¬ç®¡å®¶",
    "properties": {
      "scriptButler.enableTerminalMonitoring": { ... }
    }
  }
}
```

**é—®é¢˜ï¼š**
- `configuration` æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„é¡¶çº§å±æ€§
- VS Code æ— æ³•è¯†åˆ«è¿™ä¸ªé…ç½®
- å¯¼è‡´æ— æ³•å†™å…¥ç”¨æˆ·è®¾ç½®

---

### æ­£ç¡®çš„ç»“æ„ï¼ˆä¿®å¤åï¼‰

```json
{
  "name": "script-butler",
  "contributes": {
    "viewsContainers": { ... },
    "views": { ... },
    "commands": [ ... ],
    "menus": { ... },
    "configuration": {  // âœ… æ­£ç¡®ï¼šåœ¨ contributes å†…éƒ¨
      "title": "è„šæœ¬ç®¡å®¶",
      "properties": {
        "scriptButler.enableTerminalMonitoring": { ... }
      }
    }
  }
}
```

**ä¿®å¤ï¼š**
- `configuration` ç°åœ¨æ˜¯ `contributes` çš„å­å±æ€§
- VS Code å¯ä»¥æ­£ç¡®è¯†åˆ«é…ç½®
- ç”¨æˆ·å¯ä»¥æ­£å¸¸å†™å…¥è®¾ç½®

---

## âœ… ä¿®å¤å†…å®¹

### ä¿®æ”¹æ–‡ä»¶ï¼š`package.json`

**ä¿®æ”¹ä½ç½®ï¼š** ç¬¬ 204-234 è¡Œ

**ä¿®æ”¹å‰ï¼š**
```json
    }
  },
  "configuration": {
    "title": "è„šæœ¬ç®¡å®¶",
    "properties": {
      "npmScriptManager.packageManager": { ... },
      "scriptButler.enableTerminalMonitoring": { ... },
      "scriptButler.terminalMonitoring.showNotifications": { ... }
    }
  },
```

**ä¿®æ”¹åï¼š**
```json
    },
    "configuration": {
      "title": "è„šæœ¬ç®¡å®¶",
      "properties": {
        "npmScriptManager.packageManager": { ... },
        "scriptButler.enableTerminalMonitoring": { ... },
        "scriptButler.terminalMonitoring.showNotifications": { ... }
      }
    }
  },
```

**å…³é”®å˜åŒ–ï¼š**
1. âœ… å°† `"configuration"` ä»é¡¶çº§ç§»åˆ° `contributes` å†…éƒ¨
2. âœ… è°ƒæ•´ç¼©è¿›ï¼ˆå¢åŠ  2 ä¸ªç©ºæ ¼ï¼‰
3. âœ… ä¿æŒæ‰€æœ‰é…ç½®é¡¹ä¸å˜

---

## ğŸ¯ é…ç½®é¡¹è¯´æ˜

ä¿®å¤åï¼Œä»¥ä¸‹é…ç½®é¡¹å·²æ­£ç¡®æ³¨å†Œï¼š

### 1. `npmScriptManager.packageManager`

```json
{
  "type": "string",
  "enum": ["npm", "pnpm", "yarn", "yarn-berry", "auto"],
  "default": "auto",
  "description": "æŒ‡å®šä½¿ç”¨çš„åŒ…ç®¡ç†å™¨ã€‚é€‰æ‹© 'auto' å°†è‡ªåŠ¨æ£€æµ‹ï¼ˆæ¨èï¼‰"
}
```

### 2. `scriptButler.enableTerminalMonitoring`

```json
{
  "type": "boolean",
  "default": false,
  "description": "å¯ç”¨ç»ˆç«¯å‘½ä»¤ç›‘å¬åŠŸèƒ½ï¼ˆå®éªŒæ€§ï¼‰ã€‚è‡ªåŠ¨æ•è·å¹¶è®°å½•ç»ˆç«¯ä¸­æ‰§è¡Œçš„ npm/pnpm/yarn è„šæœ¬å‘½ä»¤åˆ°ã€æœ€è¿‘æ‰§è¡Œã€‘å†å²ã€‚éœ€è¦ Shell Integration æ”¯æŒï¼Œä»…é€‚ç”¨äº bash/zsh/fish/pwshã€‚",
  "order": 10
}
```

### 3. `scriptButler.terminalMonitoring.showNotifications`

```json
{
  "type": "boolean",
  "default": false,
  "description": "å½“ç»ˆç«¯ç›‘å¬æ•è·åˆ°è„šæœ¬æ‰§è¡Œæ—¶æ˜¾ç¤ºé€šçŸ¥",
  "order": 11
}
```

---

## ğŸ§ª éªŒè¯æ­¥éª¤

### æ­¥éª¤ 1ï¼šé‡æ–°åŠ è½½æ‰©å±•

**é‡è¦ï¼š** ä¿®å¤åå¿…é¡»é‡æ–°åŠ è½½æ‰©å±•ï¼

**æ–¹æ³• Aï¼šè°ƒè¯•æ¨¡å¼**
1. å¦‚æœæ­£åœ¨è°ƒè¯•ï¼ŒæŒ‰ `Ctrl+Shift+F5` é‡å¯è°ƒè¯•
2. æˆ–è€…å…³é—­è°ƒè¯•çª—å£ï¼Œé‡æ–°æŒ‰ `F5`

**æ–¹æ³• Bï¼šå·²å®‰è£…çš„æ‰©å±•**
1. æ‰“å¼€å‘½ä»¤é¢æ¿ï¼ˆ`Ctrl+Shift+P`ï¼‰
2. æ‰§è¡Œ "Developer: Reload Window"

---

### æ­¥éª¤ 2ï¼šéªŒè¯é…ç½®å·²æ³¨å†Œ

1. æ‰“å¼€è®¾ç½®ï¼ˆ`Ctrl+,`ï¼‰
2. æœç´¢ `scriptButler`
3. åº”è¯¥çœ‹åˆ°ä»¥ä¸‹é…ç½®é¡¹ï¼š
   - âœ… **Enable Terminal Monitoring**
   - âœ… **Terminal Monitoring: Show Notifications**
   - âœ… **Package Manager**ï¼ˆåŸæœ‰é…ç½®ï¼‰

**å¦‚æœçœ‹ä¸åˆ°é…ç½®é¡¹ï¼Œè¯´æ˜æ‰©å±•æ²¡æœ‰æ­£ç¡®é‡æ–°åŠ è½½ã€‚**

---

### æ­¥éª¤ 3ï¼šæµ‹è¯•åˆ‡æ¢å‘½ä»¤

1. æ‰“å¼€å‘½ä»¤é¢æ¿ï¼ˆ`Ctrl+Shift+P`ï¼‰
2. æœç´¢å¹¶æ‰§è¡Œ "è„šæœ¬ç®¡å®¶: åˆ‡æ¢ç»ˆç«¯ç›‘å¬åŠŸèƒ½"
3. åº”è¯¥çœ‹åˆ°æç¤ºï¼š
   ```
   âœ… ç»ˆç«¯ç›‘å¬åŠŸèƒ½å·²å¯ç”¨ã€‚è¯·é‡æ–°åŠ è½½çª—å£ä»¥ç”Ÿæ•ˆã€‚
   ```
4. ç‚¹å‡»"é‡æ–°åŠ è½½"æŒ‰é’®

**å¦‚æœä»ç„¶æŠ¥é”™ "æ²¡æœ‰æ³¨å†Œé…ç½®..."ï¼Œè¯·æ£€æŸ¥ï¼š**
- æ˜¯å¦æ­£ç¡®ä¿å­˜äº† `package.json`
- æ˜¯å¦é‡æ–°åŠ è½½äº†æ‰©å±•
- æ˜¯å¦æœ‰ JSON è¯­æ³•é”™è¯¯

---

### æ­¥éª¤ 4ï¼šéªŒè¯é…ç½®å·²å†™å…¥

1. æ‰“å¼€å‘½ä»¤é¢æ¿ï¼ˆ`Ctrl+Shift+P`ï¼‰
2. æ‰§è¡Œ "Preferences: Open User Settings (JSON)"
3. åº”è¯¥çœ‹åˆ°ï¼š
   ```json
   {
     "scriptButler.enableTerminalMonitoring": true
   }
   ```

**å¦‚æœçœ‹åˆ°äº†è¿™ä¸ªé…ç½®ï¼Œè¯´æ˜ä¿®å¤æˆåŠŸï¼**

---

### æ­¥éª¤ 5ï¼šéªŒè¯åŠŸèƒ½å·²å¯ç”¨

1. é‡æ–°åŠ è½½çª—å£åï¼Œåº”è¯¥çœ‹åˆ°é€šçŸ¥ï¼š
   ```
   â„¹ï¸ è„šæœ¬ç®¡å®¶ï¼šç»ˆç«¯ç›‘å¬åŠŸèƒ½å·²å¯ç”¨ï¼ˆå®éªŒæ€§ï¼‰
   ```

2. æ‰“å¼€"æœ€è¿‘æ‰§è¡Œ"è§†å›¾
3. åº”è¯¥çœ‹åˆ°çŠ¶æ€é¡¹ï¼š
   ```
   ğŸ‘ï¸ ç»ˆç«¯ç›‘å¬                    0/0 ç»ˆç«¯
   ```

**å¦‚æœçœ‹åˆ°ä»¥ä¸Šå†…å®¹ï¼Œè¯´æ˜åŠŸèƒ½å·²æˆåŠŸå¯ç”¨ï¼**

---

## ğŸ“Š ä¿®å¤å‰åå¯¹æ¯”

| é¡¹ç›® | ä¿®å¤å‰ | ä¿®å¤å |
|------|--------|--------|
| **é…ç½®ä½ç½®** | é¡¶çº§å±æ€§ | `contributes` å†…éƒ¨ |
| **VS Code è¯†åˆ«** | âŒ æ— æ³•è¯†åˆ« | âœ… æ­£ç¡®è¯†åˆ« |
| **è®¾ç½®ç•Œé¢æ˜¾ç¤º** | âŒ ä¸æ˜¾ç¤º | âœ… æ­£å¸¸æ˜¾ç¤º |
| **å†™å…¥ç”¨æˆ·è®¾ç½®** | âŒ æŠ¥é”™ | âœ… æ­£å¸¸å†™å…¥ |
| **åˆ‡æ¢å‘½ä»¤** | âŒ æŠ¥é”™ | âœ… æ­£å¸¸å·¥ä½œ |
| **åŠŸèƒ½å¯ç”¨** | âŒ æ— æ³•å¯ç”¨ | âœ… æ­£å¸¸å¯ç”¨ |

---

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### VS Code æ‰©å±•é…ç½®è§„èŒƒ

æ ¹æ® VS Code æ‰©å±•å¼€å‘æ–‡æ¡£ï¼Œé…ç½®é¡¹å¿…é¡»åœ¨ `contributes.configuration` ä¸­å£°æ˜ï¼š

```json
{
  "contributes": {
    "configuration": {
      "title": "æ‰©å±•åç§°",
      "properties": {
        "extensionName.settingName": {
          "type": "boolean",
          "default": false,
          "description": "è®¾ç½®è¯´æ˜"
        }
      }
    }
  }
}
```

**å…³é”®ç‚¹ï¼š**
- âœ… `configuration` å¿…é¡»æ˜¯ `contributes` çš„å­å±æ€§
- âœ… `properties` ä¸­çš„é”®åæ ¼å¼ï¼š`æ‰©å±•å.è®¾ç½®å`
- âœ… æ¯ä¸ªé…ç½®é¡¹å¿…é¡»æœ‰ `type`ã€`default` å’Œ `description`

**å¸¸è§é”™è¯¯ï¼š**
- âŒ å°† `configuration` æ”¾åœ¨é¡¶çº§
- âŒ é…ç½®é¡¹é”®åæ ¼å¼é”™è¯¯
- âŒ ç¼ºå°‘å¿…éœ€çš„å±æ€§

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [VS Code Extension API - Configuration](https://code.visualstudio.com/api/references/contribution-points#contributes.configuration)
- [ç»ˆç«¯ç›‘å¬åŠŸèƒ½å®ç°è¯´æ˜](./ç»ˆç«¯å‘½ä»¤ç›‘å¬åŠŸèƒ½å®ç°è¯´æ˜.md)
- [ç»ˆç«¯ç›‘å¬åŠŸèƒ½è°ƒè¯•æŒ‡å—](./ç»ˆç«¯ç›‘å¬åŠŸèƒ½è°ƒè¯•æŒ‡å—.md)

---

## âœ… æ€»ç»“

**é—®é¢˜ï¼š** `configuration` å¯¹è±¡ä½ç½®é”™è¯¯ï¼Œå¯¼è‡´ VS Code æ— æ³•è¯†åˆ«é…ç½®é¡¹

**ä¿®å¤ï¼š** å°† `configuration` ç§»åˆ° `contributes` å¯¹è±¡å†…éƒ¨

**éªŒè¯ï¼š**
- âœ… ç¼–è¯‘æˆåŠŸ
- âœ… æ—  JSON è¯­æ³•é”™è¯¯
- âœ… é…ç½®é¡¹åœ¨è®¾ç½®ç•Œé¢ä¸­å¯è§
- âœ… åˆ‡æ¢å‘½ä»¤æ­£å¸¸å·¥ä½œ
- âœ… é…ç½®å¯ä»¥æ­£å¸¸å†™å…¥ç”¨æˆ·è®¾ç½®

**ä¸‹ä¸€æ­¥ï¼š**
1. é‡æ–°åŠ è½½æ‰©å±•ï¼ˆ`F5` æˆ– `Developer: Reload Window`ï¼‰
2. æ‰§è¡Œ "è„šæœ¬ç®¡å®¶: åˆ‡æ¢ç»ˆç«¯ç›‘å¬åŠŸèƒ½"
3. é‡æ–°åŠ è½½çª—å£
4. éªŒè¯åŠŸèƒ½å·²å¯ç”¨

**ç°åœ¨ç»ˆç«¯ç›‘å¬åŠŸèƒ½åº”è¯¥å¯ä»¥æ­£å¸¸å¯ç”¨äº†ï¼** ğŸ‰

